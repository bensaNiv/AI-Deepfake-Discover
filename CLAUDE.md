# CLAUDE.md - Project Context for Claude

## Project Overview

Project 9 - AI Video Fraud Detection Agent

This is an experiment-based project that creates a security expert agent specialized in investigating video frauds. The agent analyzes videos (or video frames) and determines whether they were generated by AI or are authentic footage.

## Experiment Results Summary

**Dataset**: 5 videos (3 AI-generated, 2 authentic)

| Metric | Value |
|--------|-------|
| Accuracy | 80% |
| Precision | 75% |
| Recall | 100% |
| F1 Score | 0.857 |

The agent correctly identified all AI-generated videos but had 1 false positive (authentic video misclassified as AI).

## Quick Start

```bash
# Setup
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate
pip install -r requirements.txt
cp .env.example .env

# Analyze a video
python -m src.main --video videos/video_2.mp4 --frames 5

# Analyze a single image
python -m src.main --image path/to/frame.jpg --json

# Generate visualizations
python scripts/generate_visualizations.py

# Run tests
pytest tests/ -v
```

## Project Structure

- `src/` - Source code
  - `agent.py` - VideoFraudDetectionAgent with OpenCV video processing
  - `main.py` - CLI entry point
- `docs/` - Documentation
  - `prompts.md` - Agent prompts documentation
  - `llm-video-analysis-prompt.md` - Standalone prompt for external LLMs
- `videos/` - Test video dataset (5 videos)
- `results/` - Experiment outputs
  - `experiment_results.md` - Full analysis report
  - `figures/` - Visualization graphs
  - `metrics/` - JSON metrics data
- `scripts/` - Utility scripts
  - `generate_visualizations.py` - Create result graphs

## Key Files

- `src/agent.py` - VideoFraudDetectionAgent class with detection logic
- `docs/llm-video-analysis-prompt.md` - Prompt for manual analysis with any LLM
- `results/experiment_results.md` - Detailed experiment analysis

## Agent Capabilities

The agent analyzes:
- **Facial artifacts**: Unnatural movements, lighting inconsistencies, blurring
- **Temporal consistency**: Flickering, shadow inconsistencies, motion blur
- **Technical artifacts**: Compression anomalies, resolution issues, color banding
- **Contextual analysis**: Background consistency, lighting direction, reflections

## Configuration

Set in `.env`:
- `OLLAMA_HOST` - Ollama server URL (default: http://localhost:11434)
- `LOG_LEVEL` - Logging level

## Development Notes

- Video processing uses OpenCV for frame extraction
- Supports Ollama with vision models (llava recommended)
- OpenAI and Anthropic providers are stubbed for future implementation
